<!doctype html>

<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Videó-stílusú sablon — kattintásra felugró reklám</title>
  <style>
    :root{ --bg:#0f1724; --card:#0b1220; --accent:#10b981; --glass: rgba(255,255,255,0.04);} 
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,#071022 0%, #0f1b2a 100%);color:#e6eef6}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:2rem}
    .player-card{width:100%;max-width:960px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:1rem;box-shadow:0 10px 30px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
    .media{position:relative;padding-top:56.25%;border-radius:8px;overflow:hidden;background:#000}
    .media iframe, .media video{position:absolute;top:0;left:0;width:100%;height:100%;border:0}
    .meta{margin-top:12px;display:flex;align-items:center;justify-content:space-between}
    .title{font-size:1.05rem;font-weight:600}
    .hint{font-size:0.85rem;opacity:0.75}/* Ad modal */
.ad-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.65);z-index:9999;backdrop-filter:blur(4px);}
.ad-card{width:90%;max-width:640px;background:var(--card);border-radius:10px;padding:1rem;border:1px solid rgba(255,255,255,0.04);box-shadow:0 12px 40px rgba(2,6,23,0.7)}
.ad-media{height:320px;border-radius:8px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center}
.ad-media img{max-width:100%;max-height:100%;display:block}
.ad-footer{display:flex;gap:8px;align-items:center;margin-top:10px}
.btn{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:8px 12px;border-radius:8px;color:inherit;cursor:pointer}
.btn.primary{background:var(--accent);color:#062018;border:0}

/* small helpers */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

@media (max-width:520px){.ad-media{height:200px}}

  </style>
</head>
<body>
  <div class="wrap">
    <div class="player-card">
      <div class="media" id="media">
        <!-- A videó/iframe ide töltődik be a scriptből -->
      </div>
      <div class="meta">
        <div>
          <div class="title">Példa videó — középre illesztve</div>
          <div class="hint">Minden kattintásra megjelenik egy reklám (bezáráshoz nyomd meg az × -et vagy az Esc-et)</div>
        </div>
        <div>
          <button class="btn no-ad" id="toggleInfo">Info</button>
        </div>
      </div>
    </div>
  </div>  <!-- Ad modal (dinamikusan megjelenik) -->  <template id="adTemplate">
    <div class="ad-modal" id="adModal" role="dialog" aria-modal="true">
      <div class="ad-card">
        <div style="display:flex;justify-content:flex-end"><button class="btn no-ad" id="closeAd" aria-label="Bezárás">×</button></div>
        <div class="ad-media" id="adMedia">
          <!-- reklám képe/iframe ide jön -->
        </div>
        <div class="ad-footer">
          <a id="adLink" class="btn primary" target="_blank" rel="noopener">Megnyitás</a>
          <button class="btn no-ad" id="dismiss">Bezárás</button>
          <div style="flex:1"></div>
        </div>
      </div>
    </div>
  </template>  <script>
    /*************************************************************************
     * KONFIGURÁCIÓ: ide másold be a saját videód linkjét
     * - Ha YouTube/Vimeo embed link: állítsd videoType: 'embed' és videoSrc-ot
     *   pl. 'https://www.youtube.com/embed/VIDEO_ID'
     * - Ha közvetlen mp4 fájlod van: állítsd videoType: 'mp4' és videoSrc-ot
     * ************************************************************************/ 
    const CONFIG = {
      videoType: 'embed', // 'embed' vagy 'mp4'
      // YouTube példa: 'https://www.youtube.com/embed/dQw4w9WgXcQ'
      // MP4 példa: '/videos/myfile.mp4'
      videoSrc: 'https://www.youtube.com/embed/dQw4w9WgXcQ',

      // Reklámok minták — kép + cél URL. Tetszőlegesen cserélheted.
      ads: [
        { img: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="450"><rect width="100%" height="100%" fill="%2301a3a4"/><text x="50%" y="50%" font-size="30" text-anchor="middle" fill="white" dy=".3em">Reklám helye 1</text></svg>', url: 'https://example.com' },
        { img: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="450"><rect width="100%" height="100%" fill="%23ff7a59"/><text x="50%" y="50%" font-size="30" text-anchor="middle" fill="white" dy=".3em">Reklám helye 2</text></svg>', url: 'https://example.org' }
      ],

      // Milyen hosszú ideig maradjon alapból nyitva (ms). 0 = nem automatikus zárás.
      adAutoCloseMs: 0
    }

    // Betölti a videót a #media elembe
    function loadVideo(){
      const media = document.getElementById('media')
      if(CONFIG.videoType === 'mp4'){
        media.innerHTML = `<video controls playsinline preload="metadata" class="no-ad">
          <source src="${CONFIG.videoSrc}" type="video/mp4">
          A böngésződ nem támogatja a <code>video</code> elemet.
        </video>`
      } else {
        // embed iframe (YouTube/Vimeo stb.)
        media.innerHTML = `<iframe class="no-ad" src="${CONFIG.videoSrc}" title="Videó" frameborder="0" allowfullscreen allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>`
      }
    }

    // Reklám megjelenítése modalban
    let adOpen = false
    function showAd(){
      if(adOpen) return
      adOpen = true

      const tpl = document.getElementById('adTemplate')
      const clone = tpl.content.cloneNode(true)
      document.body.appendChild(clone)

      const adModal = document.getElementById('adModal')
      const adMedia = document.getElementById('adMedia')
      const adLink = document.getElementById('adLink')
      const closeBtn = document.getElementById('closeAd')
      const dismiss = document.getElementById('dismiss')

      // Véletlenszerű reklám kiválasztása
      const ad = CONFIG.ads[Math.floor(Math.random()*CONFIG.ads.length)]
      adMedia.innerHTML = `<img src="${ad.img}" alt="Reklám" />`
      adLink.href = ad.url
      adLink.textContent = 'Megnyitás'

      function closeAd(){
        const node = document.getElementById('adModal')
        if(node) node.remove()
        adOpen = false
        document.removeEventListener('keydown', onKey)
      }

      closeBtn.addEventListener('click', function(e){ e.stopPropagation(); closeAd() })
      dismiss.addEventListener('click', function(e){ e.stopPropagation(); closeAd() })

      // Ha a felhasználó a reklám linkjére kattint, nyisson új ablakot és zárja a modalt
      adLink.addEventListener('click', function(){ closeAd() })

      function onKey(e){ if(e.key === 'Escape'){ closeAd() } }
      document.addEventListener('keydown', onKey)

      if(CONFIG.adAutoCloseMs > 0){ setTimeout(closeAd, CONFIG.adAutoCloseMs) }
    }

    // Ha a felhasználó bárhol kattint (kivéve azokra az elemekre, amikre nem akarunk reklámot), megjelenik a reklám
    document.addEventListener('click', function(e){
      // ha az elem vagy egy őse rendelkezik .no-ad osztállyal, akkor ne jelenjen meg reklám
      if(e.target.closest('.no-ad')) return
      showAd()
    })

    // Betöltés
    loadVideo()

    // Small UX: info gomb mutatja a konfiguráció helyét (nem nyit reklámot)
    document.getElementById('toggleInfo').addEventListener('click', function(){
      alert('A videót a CONFIG.videoSrc mezőbe kell bemásolni a HTML fájl tetején.\nYouTube-hoz használd az embed URL-t (pl. https://www.youtube.com/embed/VIDEO_ID).')
    })
  </script></body>
</html>