<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Videó kereső + lejátszó</title>

  <style>
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;
      background:#0f0f10;
      color:#fff;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:24px;
    }
    .wrap{max-width:900px;width:100%}

    .logo span{
      background:#ff2d55;
      padding:6px 14px;
      border-radius:999px;
      font-weight:900;
    }

    .card{
      background:#1a1b1e;
      border-radius:14px;
      padding:24px;
      margin-top:14px;
    }

    #searchInput{
      width:100%;
      padding:14px;
      border-radius:12px;
      border:none;
      font-size:16px;
      font-weight:700;
    }

    .result{
      margin-top:10px;
      padding:12px;
      background:#111;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
    }

    #playerView{display:none}

    #videoContainer{
      position:relative;
      background:#000;
      border-radius:12px;
      overflow:hidden;
    }

    video{width:100%;display:block}

    #downloadBtn{
      position:absolute;
      top:10px;
      right:10px;
      background:rgba(0,0,0,.7);
      padding:8px 12px;
      border-radius:8px;
      color:#fff;
      text-decoration:none;
      font-weight:800;
      opacity:0;
      transition:.2s;
    }

    #videoContainer:hover #downloadBtn,
    #videoContainer.touch #downloadBtn{
      opacity:1;
    }

    .back{
      margin-bottom:10px;
      cursor:pointer;
      font-weight:800;
    }

    /* reklám */
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.7);
      display:none;
      justify-content:center;
      align-items:center;
      z-index:9999;
    }
    .overlay.show{display:flex}
    .adbox{
      background:#111;
      padding:12px;
      border-radius:12px;
    }
  </style>
</head>

<body>
<div class="wrap">

  <div class="logo"><span>ggg</span></div>

  <!-- FŐOLDAL -->
  <div id="home" class="card">
    <input id="searchInput" placeholder="Keresés..." />
    <div id="results"></div>
  </div>

  <!-- LEJÁTSZÓ -->
  <div id="playerView" class="card">
    <div class="back" id="backBtn">← Vissza</div>

    <div id="videoContainer">
      <video id="player" controls autoplay playsinline>
        <source id="videoSrc" type="video/mp4">
      </video>
      <a id="downloadBtn" download>⬇ Letöltés</a>
    </div>
  </div>

</div>

<!-- REKLÁM -->
<div id="overlay" class="overlay">
  <div class="adbox">
    <script src="https://pl28566218.effectivegatecpm.com/a0/43/e3/a043e350c28e267428053c9ac9bc1f76.js"></script>
  </div>
</div>

<script>
  const VIDEO = {
    title: "Video",
    url: "https://dl.dropboxusercontent.com/scl/fi/uecgt6mva6l51or9ovqft/video.mp4?rlkey=qbmtoecx4s7fjc2ozj8r96hv0&st=d4tm9f0e"
  };

  const home = document.getElementById('home');
  const playerView = document.getElementById('playerView');
  const results = document.getElementById('results');
  const searchInput = document.getElementById('searchInput');
  const player = document.getElementById('player');
  const videoSrc = document.getElementById('videoSrc');
  const downloadBtn = document.getElementById('downloadBtn');
  const backBtn = document.getElementById('backBtn');
  const overlay = document.getElementById('overlay');
  const videoContainer = document.getElementById('videoContainer');

  let adShown = false;
  function showAd(){
    if(adShown) return;
    adShown = true;
    overlay.classList.add('show');
    overlay.onclick = ()=>overlay.classList.remove('show');
  }

  searchInput.addEventListener('input',()=>{
    results.innerHTML='';
    if(!searchInput.value) return;
    const div=document.createElement('div');
    div.className='result';
    div.textContent=VIDEO.title;
    div.onclick=()=>{
      home.style.display='none';
      playerView.style.display='block';
      videoSrc.src=VIDEO.url;
      downloadBtn.href=VIDEO.url;
      player.load();
      player.play();
      showAd();
    };
    results.appendChild(div);
  });

  backBtn.onclick=()=>{
    player.pause();
    home.style.display='block';
    playerView.style.display='none';
    searchInput.value='';
    results.innerHTML='';
  };

  videoContainer.addEventListener('touchstart',()=>{
    videoContainer.classList.toggle('touch');
  });

  document.addEventListener('click',showAd,{once:true});
</script>

</body>
</html>